# 技術スタック

このドキュメントでは、MVPで使用する技術スタックを定義します。

## フロントエンド技術

### コア技術

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| Next.js      | 14.x    | Reactフレームワーク、SSR/CSR対応 |
| React        | 18.x    | UIコンポーネント構築 |
| TypeScript   | 5.x     | 型安全な開発 |

### UIコンポーネント

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| Tailwind CSS | 3.x     | ユーティリティファーストCSSフレームワーク |
| HeadlessUI   | 2.x     | アクセシブルなUIコンポーネント |
| React Icons  | 4.x     | アイコンライブラリ |

### 状態管理・通信

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| React Context API | - | アプリケーション状態管理 |
| Axios        | 1.x     | HTTP通信クライアント |
| SWR          | 2.x     | データフェッチング・キャッシュ |

### 数式処理

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| KaTeX        | 0.16.x  | 数式レンダリング |
| React-KaTeX  | 3.x     | KaTeXのReactラッパー |

### フォーム管理

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| React Hook Form | 7.x   | フォーム管理 |
| Zod          | 3.x     | スキーマ検証 |

## バックエンド技術

### コア技術

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| Python       | 3.11+   | 開発言語 |
| FastAPI      | 0.104.x | Webフレームワーク |
| Uvicorn      | 0.23.x  | ASGIサーバー |

### データベース・ORM

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| PostgreSQL   | 15.x    | リレーショナルデータベース |
| SQLAlchemy   | 2.0.x   | ORM |
| Alembic      | 1.12.x  | データベースマイグレーション |
| Pydantic     | 2.4.x   | データバリデーション |

### 認証・セキュリティ

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| Python-jose  | 3.3.x   | JWT認証 |
| Passlib      | 1.7.x   | パスワードハッシュ化 |
| bcrypt       | 4.0.x   | パスワード暗号化 |

### テスト

| 技術/ライブラリ | バージョン | 用途 |
|--------------|---------|------|
| Pytest       | 7.4.x   | テストフレームワーク |
| Pytest-cov   | 4.1.x   | コードカバレッジ |

## デプロイ・インフラ

### ホスティング

| サービス | 用途 |
|--------|------|
| Vercel  | フロントエンドホスティング |
| Heroku  | バックエンドサービスホスティング |
| Heroku Postgres | マネージドPostgreSQLデータベース |

### 開発・CI/CD

| ツール | 用途 |
|-------|------|
| GitHub | ソースコード管理 |
| GitHub Actions | CI/CD |
| Docker | 開発環境・デプロイコンテナ化 |

## 開発ツール

### コード品質

| ツール | 用途 |
|-------|------|
| ESLint | JavaScriptコード品質管理 |
| Prettier | コードフォーマット |
| Black | Pythonコードフォーマット |
| Flake8 | Pythonリンター |

### 開発環境

| ツール | 用途 |
|-------|------|
| VS Code | コードエディタ |
| npm/yarn | パッケージ管理（フロントエンド） |
| Poetry | パッケージ管理（バックエンド） |
| Insomnia/Postman | API開発・テスト |

## バージョン管理の方針

- セマンティックバージョニングの採用
- 依存パッケージの定期的な更新
- 特定バージョンの固定（package.json, pyproject.toml）

## 技術選定理由

### Next.js & React

- SSR/CSRのハイブリッドレンダリングによるパフォーマンス最適化
- 開発効率の高さとコンポーネントベースのアーキテクチャ
- TypeScriptとの親和性

### FastAPI

- 高いパフォーマンスと開発速度
- 自動API文書生成
- 型ヒントとPydanticによる堅牢な設計
- 非同期処理のサポート

### PostgreSQL

- 信頼性と機能の豊富さ
- JSON型のサポート
- 将来的な拡張性

### KaTeX

- 数式レンダリングのパフォーマンスの高さ
- クライアントサイドでの軽量な処理
- LaTeX構文のサポート
